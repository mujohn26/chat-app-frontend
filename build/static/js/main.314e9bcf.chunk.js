(this["webpackJsonpchat-frontend"]=this["webpackJsonpchat-frontend"]||[]).push([[0],{291:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},609:function(e,t,a){},634:function(e,t){},637:function(e,t,a){},639:function(e,t){},641:function(e,t){},651:function(e,t){},653:function(e,t){},681:function(e,t){},683:function(e,t){},684:function(e,t){},689:function(e,t){},691:function(e,t){},710:function(e,t){},722:function(e,t){},725:function(e,t){},744:function(e,t,a){},764:function(e,t,a){},765:function(e,t,a){},766:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(27),c=a.n(i),r=a(48),o=a(14),h=a(15),u=a(17),d=a(16),l=a(115),j=a(9),b=a(31),p=(a(308),a(309),a(310),a(299)),m=a(0),g=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={theme:"light",value:"yes"},n.toggleTheme=n.toggleTheme.bind(Object(b.a)(n)),n}return Object(h.a)(a,[{key:"toggleTheme",value:function(){this.setState({value:"yes"===this.state.value?"no":"yes"});var e="light"===this.state.theme?"dark":"light";document.documentElement.classList.add("color-theme-in-transition"),this.setState({theme:e}),document.documentElement.setAttribute("data-theme",e),window.setTimeout((function(){document.documentElement.classList.remove("color-theme-in-transition")}),1e3)}},{key:"render",value:function(){return Object(m.jsx)("div",{children:Object(m.jsx)(n.Fragment,{children:Object(m.jsx)(p.a,{on:"yes",off:"no",value:this.state.value,onChange:this.toggleTheme.bind(this)})})})}}]),a}(n.Component),v=a(56),f=a(294),O=a(165);v.b.add(O.a);var x=function(e){var t=e.chatsList,a=e.activeChatId,n=e.switchChat;e.toggleTheme;return Object(m.jsxs)("div",{className:"sidebar",children:[Object(m.jsxs)("div",{className:"sidebar__head",children:[Object(m.jsx)("div",{children:Object(m.jsx)(g,{})}),Object(m.jsx)("div",{children:Object(m.jsx)("h4",{className:"sidebar__head__title",children:"Chat "})})]}),Object(m.jsx)("ul",{className:"sidebar__list",children:t&&t.map((function(e){return Object(m.jsxs)("li",{className:"sidebar__list__item ".concat(a===e.id?"sidebar__list__item--active":""),onClick:function(){return n(e.id)},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(f.a,{icon:O.a,className:"sidebar__list__item__icon"})," "]}),Object(m.jsx)("div",{children:Object(m.jsx)("h4",{className:"sidebar__list__item__title",style:{color:a===e.id?"var(--selectionTextColor)":"var(--textColor)",fontSize:"20px"},children:e.title})})]})}))})]})},C=(a(315),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA3pSURBVHiczZtpkFzVdcd/973X0z2bZkYazQi0gdAGAikImcUYO4StgEpix8Sk2AKJiSpxjBMK4qTywYqr4iRYZjOUIS4CMVsiDCRODGYxEpKwsBaEhEbMjCTQ7NKgWXp6f8s9+dCa0fT069fLjMr5V01N97vnnnvO6bucc+55itOM93tlgaVZJ4o1CKu1liWuZr72pNHTGk8wFSRBnQAZRkkHqHa0anNC5rbrlqrB0ymfOh1Md3XJ5cDvo7geOL8QnQBaC54nOK54WsT0IWlDeFMpefHKlVW7Z1rWGTPA/i5pyijuBO4Gzq2Eh6cFxxUcV2vAyCMQDgo8HVbWk19YqWLTEvgkpm2AtkGpS6X4hij+FmicAZnQAo6jybhaKz9DwIgIj1Y51iNXrFYj0xmrYgOIiNrdzd0o/gmYPR0hCo8BGdsTx5NCcg4r5Lvvrgj9cINSupIxKjLArj5ZIR4/VnBFJf3LhesJadtzRbAKkLwnpvfHVy2LHCmXd9kG2N0tXxZ4Bmgot+90oLOzQbue+C0JgKig7r5qpfVSOXxLNsAmEfPsHjYCf1XOADONdEbjeAGzXXhw60rr/lKXREkG2Cxi1fXwFHBHSVKeZtiuJm3rAOHlhVnx0J3r1imnGK+iBjh0SMKjEV5GuLFMOclkbH69dy8HDx9hODpKJp0JpPdch2MD3VRX13DJRZ/jtpv+sCCt7WgyTuBM+PmshPWVYkYINMDJnf4nKG4LlNwHBzo7ee7lV4klEiX30dojFT0x8f3yyy7n7tsKT7qiRkCev3JF6HallBSiKLShALC7h42VKL/v4Mc88dwLZSnvO/4HwY5fVcggFDIKKgfq1i0d7gNBPAoaYGeXfA24N1jEfMTicf795VcQXdGxnINMJsPR7p5AmnDIUKah3ELtAvdtbndvKtTuuwR2d8s5Ah8As0oVdhw/e/Mt3ti6rdxuQP4SyEqoqI7UcP55q1h/511Yho+HLJBIu0F+QlQb3tqrl0c+mdqQx01EDA3PUYHyAPva2yvpVhgipFIJdu3ZycNP/MiXRCmIhIxCygM0mNp8RiTfo8wzwJ5e/kTBpZXJKpwYnpZrHoiD7QcLtlmWgWUGLoUrtrR7eTtqjgH2d0mTCN+rVEDRgusWlGHa0J6LDuBflZ0FBTdFUfLA5k8lJ2DLmTYZxX3A3GnKmYPGmiruufYCzmio4cjgGB92n+CjnmGGE5kJjy5kGsyuDbN28WxuPv8SFjTWMJx0+Itnf0nXUOlRr2koQiFDHEcXOt5bxHbvAb47/mCCcPtnUh9O0c00Qlrtab75nQ05z75308VctWq+L30846BQ1IZP/g6ehujYRPtAMsM1G1/N6fNvjzyOYRVe7qKFRNoTKezjDFdhnTWeT5hYAlUp1jND8fxkrF5UOFKuC4dOKe+Dltpw2eMpQ2GYgXHAbFu5d49/mTCAEr5e9mglIBIK2pyDEeTiBKHKMqam1nIh3DUxBsCuHrkYxYrKhiuMCxc3Ux8JVdxfAX90afliWabCgKAY4Px3D9kXwslNUMEtFRo7D3dcvhyA5vowv3vh4mnz+/vrLuSra5cxlEiV1c+0jJB2C68E7albgL3Z+SlcMx0hx6EUfOPqVTPB6hRPgXOb66C5DoCdJWYwLFPhBJzIQlZnY99haZEKs7hTYajTkmXPgZ8r7AfTUKgAnwBYvblDmg0nxJc4TfcDv0koBcpQdhCJaO+LBgEXF+VClCJNZKbY5UGbFlqVNgMADEXwOapklSGK5dMVbDI6raX0GWfMJEtAMVbbQkfT2rJ6mUaxiS0rDGBZxXL5wFYhBsx5ZFT5TkwhiGnQWbeKhFlbVj9VZE9SqOUGM+z7jyNVyVIQ/z3LNasqkqHYahFUswHUVcS9CKJGBekE7fk+HgvPqUiG4ju71J82AwwbTWVtWAD4hbpK0Ve9qCIZSjiV68uUsHR4mPQb80rvIEAm33uN1rZiV7qflODeGkC8Mu7FcdxoIaZKnGCZTN4e4IUiHKmtPEQpQf+YgWJG7tn9BVActpaQUDXBhJ6GZDrnkbaqaGtaiw7O3BcZvxjUmIFwoijdNOBh0mEtY8QokGrQAvEEE+IqyERm8eGcSyuf+ichRTLzChkygM5pjVICNAYjyscAngexWPa/MiBcBbPq6atfgiY4pC8FUuBYnWhHOi0UHaUsltMCEaitySpvKmY6JPG0SDBT1WGhafuNhUIBub2ZgNY4QGEvSlSbUeWwlZI2zMrhui6D0WjJ9IPRKI43zfS6gIgEpaPEssxtxppsHV7b9Ebzh+M4bNmxgw0PPkR1fQS78czifRrmEa6t4h8efIgtO3bgOEWv+H3haiEgMwyw/4vL1Gfjc/AtZjAsztg2O/bs4c2t24nGYpzZMpulC+fhAMpzCMU+8xe6phG74QyWN0DYMnnp56/ziy1bueKSi7nq8s8TCZd+KriuDlz/KqtzNieo4QUD/rocJf3guB6vvPk27+/ejW2fKoZYdc7Cic9203wMz8ZM5i4JL1xLZs6pHOK5SxdybGiUWCLBa+9s5u3tv+Kydev4yrVXE7KKnxCOJx4UvCzFMOUFxgkuWaR27+qWA1QwC1K2zSf9g3R09dPe1Uv/of3IlAN4btPkeipFes5ZRLwjmJmsEypmFZnmJTnhW0tTbg2WbWfY+v4OOgbjLJnfyspFZ7Jy8ZnURvKjzuyPX1h54MCXllXtzSFS8IzAxlKUjqXSfHy0l4+P9nH0+GdofWoPDc+aTXrKFXdV1RRZlEGm+Wwixw+htEO6ZQli5tKEp/YBIvWzcbWms2eAzp4B/nfHB5zVOpdzz5rPeWctoK46a4yMrT0IcCQUT49/nBilOsKTyTR/BxSMPeOpNG/s2s+BT7pzlJ6Mmoa5ZGLDOQUS2qeqS0yLdOMCVHQEHarOa/em9FGGQXVDbupCa+GTgUE+GRjkjV/vY/XSxVx90QV4YpoBu99wlVg/Hv8yMedWtag4wmOFen02OsYT//02+w93FVQewLAswrW5uYDOnuN5dN5olOEHH2PwBz/CPtqV136oN7dIPFzbEHgn6GrNB52f8oPnX2JodLQgHfDw5DrjnEgjDI9AfmxgOy7Pv7WdWLK0ywlvSlzf3nUcd5LN7N5+hv7lIezeY3jxJCMPPUbiw49OKSPQ2XUsl6dX/DjUnkMsNsqLr7+G43+NPuiFrEcnP8gxwOrFagT49tRe2/a3MxIrreApMXwcJ5UbYcfjcZIeOBrStsfo408iI5MKKTI2iU2vkMx42BoSHsSnFFg5yTiJ4fyZNAEBJ50AgZHoGDs+3JdPo9T915yjco6fvFhz3UKeBrZP8BX4oPPTQKXHoV2H9Gj++w2eY9NzfISEB2llYt16K0y64FCGgXXH7diGSdKD7mNDuD7XOunRQbTrPxM8J4XnnDp697a356YXhK1XLjefndovzwBKKVFwJxAFGI7FiafSU8n8YRiITx5KgG17TpW3GCuWE7rxeswLzsv+3XgDxjlLJtq37/kYX+/cMHIMN8Ffezjp3FkXjceIJSaW+qg2vbv86gV9sw3rFqkjnLwuT6RLVB4wDJNIvX/cv+/glELu4RMYo8PZv5Fcz3Bv22FfHuG6Rgyfm28nOYb2KcsbSySzH0R93a9CDALqBD+3WP0UeDBox/dDTWMryudX6urtP/XF86C/b+Kr9PXlJES7+wZ8JDWoaWzJe2ynYriu/w2Ypz0UbPydc62XC8kbmG9at5D74sn0L4Jo8hhaIWqaWvOep1NJDhw+WfTY15ubAXZdGMgaaH9nN3Y6/7SpbWrFsHKDOyedwM0kC8qSTCbffneFlbep58gb1KiUkhPdIzctap3THUQ3FZGGZqqq85Oh//POTgCkO//cH3/2s3fez2sLReqonpXrnzmZZN66n4z5LS19XceG/qBY2XzRjOP9d6xJ7DIOL1WoTcVox6GAurkL8hyXjz4+lP0QYIC2jty9wjAt6lsX5iT53UwCJ1U4l2so9dP2o6NnP/CnXyia8C0p5bpn/Xqn5jy5Bfg+JSZPDCtEfcti1KQAJ51KsvPDDmTAZ43397Njz0EyqUnTXynqWxdjjMcJIjjJMexU4V9elHr0nYYTN+/51/UlJRLKTobdsOE/v6ZQT0mJN0rp+CjxwV7G7XbBojP5juVfTbrBbuRA77hxFPUtCwnXZaNCEY2diIrn2gVkVjFBr3/34XteLEefspPur224eROYaxT8shT6SF0jtc2nrss7eo+R9jlZ0ho6+0+5v7Vz5k0o79pp0mMn3ELKi1K/Qqm15SoPQSFjAA5t2TRyaMumZ5f/9sF+4DIg8OYjFM42O+kEnggtIcWScK7t34m57ExkL0drmlqpaZyLeB52MipuJqnw/7GOi8i97zYOffPoP//NUCW6TDsffO33f1IbSob/UkQVfXEyMTRAKnqCeSHFowvCEzVFWoRv9WYYcITqWXOomd2aNZad0uKv+CjweLUnD7z+w3vGfNpLxowlxL+84dVGR7m3i8ifUSizJII71Mfo2Aj3tlbx+drsBHwv7vHQoE1z/SwyNY3i2RlQPi9LCu0o9aRTlXjqvQe+/f/j1Vk/XL/hPy5VqN8DdQOwJqdRBHO4j0g6ysYzQmC73D/okg7VyFh1nZoi0smXp9UbSrwXNz/6rT0zLetpvxK57h9fPsN09EVKyRqE3/K0s0Tb9oK50YG5X3WGlWjhv6wGp6emqQtkROBTQ4w2kLZQyNr25sY/P62vz/8fpc7iHxO86L0AAAAASUVORK5CYII="),A=(a(609),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.subChatsList,a=e.activeSubChatId,n=e.switchSubChat;return Object(m.jsxs)("div",{className:"sidebar1",children:[Object(m.jsx)("div",{className:"sidebar__toggle__container"}),Object(m.jsx)("ul",{className:"sidebar__list",children:t&&t.map((function(e){return Object(m.jsxs)("li",{className:"sidebar__subtitle__list__item ".concat(a===e.id?"sub__chat__sidebar__list__item--active":""),onClick:function(){return n(e.id)},children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:C,height:"40px",width:"40px",style:{marginTop:"15px",borderRadius:"10px 10px 10px 10px"}})}),Object(m.jsx)("div",{className:"sub__chat__sidebar__list__item__container",children:Object(m.jsx)("div",{className:"sub__chat__sidebar__list__item__head",children:Object(m.jsx)("div",{children:Object(m.jsx)("h4",{className:"sidebar__list__item__title",children:e.name})})})})]})}))})]})}}]),a}(n.Component)),y=a(300),S=a(28),k=a(116),w=a.n(k),E=(a(637),a(111)),N=a(112),R=a.n(N);R.a.config();var L,U=function(e){return Object(E.decode)(e)},T="https://chat-app-mujohn.herokuapp.com/",I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n,s;return Object(o.a)(this,a),(s=t.call(this,e)).state=(n={activeSubChatId:1,name:"",message:"",userName:"",email:"",isJoined:!1},Object(S.a)(n,"message",""),Object(S.a)(n,"messages",[]),Object(S.a)(n,"token",""),Object(S.a)(n,"userId",""),Object(S.a)(n,"joinerEmail",""),n),s}return Object(h.a)(a,[{key:"handleConnect",value:function(){var e=this;L=w()(T);var t=this.state.token,a={name:this.state.userName,token:t};L.emit("new-user",a),L.on("user-connected",(function(t){e.setState({name:t.name,isJoined:!0,joinerEmail:t.email})}))}},{key:"UNSAFE_componentWillMount",value:function(){var e=localStorage.getItem("token"),t=U(e);this.setState({token:e,userName:t.payload.userName,email:t.payload.email,userId:t.payload.id,messages:this.props.activeSubChat.data}),console.log("=-=-=-=-=-=-",this.props.activeSubChat.data)}},{key:"handleDisconnect",value:function(){this.setState({isJoined:!1});(L=w()(T)).emit("disconnect","mujohn26@gmail.com"),L.on("user-disconnected",(function(e){}))}},{key:"handleSendMessage",value:function(){var e=this;L=w()(T);var t={token:this.state.token,message:this.state.message};L.emit("send-chat-message",t),L.on("chat-message",(function(t){e.setState({messages:[].concat(Object(y.a)(e.state.messages),[{id:e.state.userId,message:t.message,receivername:t.receivername,senderid:e.state.userId}])})}))}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;this.props.activeSubChat;return Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"content__nav__bar",children:Object(m.jsx)("div",{style:{marginLeft:"10px"},children:Object(m.jsx)("h5",{children:this.props.activeSubChat.name})})}),Object(m.jsx)("div",{className:"content__top__bar",children:Object(m.jsx)("div",{style:{marginLeft:"10px"},children:Object(m.jsx)("img",{src:C,height:"60",width:"60"})})})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("div",{className:"content__chat__image__container",children:0===this.state.messages.length?Object(m.jsx)("div",{style:{marginTop:"50%",marginLeft:"30%"},children:"No messages yet"}):Object(m.jsx)(m.Fragment,{children:this.state.messages.map((function(t){return Object(m.jsx)("div",{style:{marginTop:"5%"},children:Object(m.jsx)(m.Fragment,{children:t.senderid!==e.state.userId?Object(m.jsx)("div",{style:{marginLeft:"40%",marginBottom:"5%",backgroundColor:"#fa38a6",minHeight:"70px",borderRadius:"20px 20px 0px 20px",color:"white"},children:Object(m.jsx)("p",{style:{marginLeft:"5%"},children:t.message})}):Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:C,height:"25",width:"25"})}),Object(m.jsx)("div",{style:{marginLeft:"1%",marginBottom:"5%",backgroundColor:"white",minHeight:"70px",width:"50%",borderRadius:"0px 20px 20px 20px",color:"black",boxShadow:"rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px"},children:Object(m.jsx)("p",{style:{marginLeft:"5%"},children:t.message})})]})})})}))})}),Object(m.jsx)("div",{style:{textAlign:"center",fontSize:"15px"},children:""!==this.state.name?this.state.joinerEmail===this.state.email?"You are connected":"".concat(this.state.name," is connected"):""}),Object(m.jsxs)("div",{style:{width:"600px",backgroundColor:"white",height:"60px",marginTop:"6%",marginLeft:"10px",borderRadius:"20px 20px 20px 20px",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(m.jsx)("div",{style:{borderRadius:"50%",height:"60px",width:"60px",backgroundColor:this.state.isJoined?"green":"#f4f4ff",marginRight:"2%",cursor:"pointer"},onClick:this.state.isJoined?this.handleDisconnect.bind(this):this.handleConnect.bind(this),children:Object(m.jsx)("p",{style:{marginTop:"30%",marginLeft:"15%",color:"black"},children:this.state.isJoined?"Online":"Join"})}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:"text",id:"fname",name:"message",placeholder:"Type a messsage here..",style:{width:"350px",height:"50px",border:"0px",marginLeft:"15%"},onChange:this.handleChange.bind(this)})}),Object(m.jsx)("div",{style:{borderRadius:"50%",height:"60px",width:"60px",backgroundColor:"#f4f4ff",marginRight:"2%"},children:Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUpSURBVHic5ZtNjBRFGIaf6vntntnFVVgkojEm6kE0GqKRqBdcVCRiMMrBECIrAomQiIdVMTGbmBg8iibKxXg0ehKUKFkDEoksCCaihoPhoGTZPyTIj7szPV0esKCZmd7+q55u8LnNdFVXvd9X8+7XVb2C/xFL95yan687/QheQHDd6YnSuyLtSSXNc5/J3HTP5BMOrBOwDMgBTIxYnB43nWs2AK5srwVudl+bGLGYPGlRKDn1fErzS4TBQWn89PCpxQ6sw3ZWIGjRp8QDmFb9+2tiBTzz9cS8uiFWY7ABKW/1aucWL4Dr59YXXbUBuCLbUq6A1my7cYsHMKv26NGNhXlX3U9AZfuwcWrGbLtpFg9gmvZ28IlaVnBnuy7lCpB5ZLC+7cTni07jfFf5Hch4AKJk20078QBWpb7vyMpyDTIYgDjZduMlXgCForHF/TkTBHXyIHiJh8vmpz6nugJ0ZdvNTOLhsvkpUlkBOrPtxk98vug0cvMN69eVonbpO12D+5FEtt34iYcrzU+ReADiOnkQgohvNj/399oJW6XFIYh4aDU/hdaJdSLbboKKh1bzU8QOQNK/bS/CiHdXfi3Xok6g09l2E0Y8tDc/RagApJVtN2HFe5mf+7ovSf3dDktY8eBtfgrPFZCFbLuJIh68zU/RsgKykm03UcW3q/xa2kD2su0mqniY2fwU+ae+HV962Jn8CMktkUZJkDjiBSBM5w2/dnkc8TFwY6RREiSOeIBy1R49vNoa9mtnAPXIoyREXPHgb34KQzhyFfB7rNE0okP8TJVfM8aOx3v3Ldw/+04h5Urgt1gjx0SHeLhofjM5vxsDYHBQODse6/184f7Zd0uH5cCh2LMIiS7xfpVfu/ZteXposs+RztsgHow9Kx90iQf/yq8Zw+vCF32zh3Yu6V0E8hHgSy2za4NO8RDc/BSBN0SW7x57SArjdS4eMWvZSNEtPkjl10xoIU/uHr83ZxhbkPLZKP0VusUDdPdM7zmyvrw4TJ/IApZ989cCw2gMAM/z30sHQUlCvDrtHV5TPBC2XyyWDY3dZkjjNaCfAPsLSYgHMKu10aMbS4HNT+FpgkH5qm/u8Z1L5qzP2fbtSLENmPJqm5R4ANN0QpmfQvuu8PKhsbkSsRkpNgGX1CYpPor5KRI7GVq66+ScQiH/soRXJkasWUmJh2jmp0j8aOzRT/++448/u47JRkJjCei56cIDh1ZVIlWvHTkbvO/D6YNnzxTvT+LeUc1PEdsEg5Ar1PoNkcwWU1TzU3QkAD+u7fql0l3/Wfd9wzz2etGRAACUSo11QvMqCPPY60XHAnCg3xqudtvHdN0v7GOvFx0LAEC50tigy3bL1dpo2LK3HR0NwA+rze8q1dpxHfeKa36KjgYAoFy0N8VdBDrMT9HxAAy/VNlldtVOxLmHDvNTdDwAAGWr8WrUvrrMz32/VLjng/rJC+fyoQ9k4lZ+zaSyAgDMbnsgUj9N5qdI9U3RBe/XJ6fO528I2j7OY68Xqa0AAKtSezNce33mp0g1AAf7K9vLFftMkLa6zU+RagAATMveGqSdrsqvmdQDcOhFc2vJtM/6tdNtforUAwBQ7bLfm+m6zsqvmWz8v4CU4q5tjXPT/+TabhzG2fPzIxMrACGkWWl/ppeU+SmyEQCgeqI0UDQbLWcKSZmfIjMB2DsobMuyP2n+PinzU2QmAADVfGlzoeRcemepUHDspMxPkakA7F0jprp7pjbmi04jV3Cc6qzaW7orv2b+BYuRnl6d12/2AAAAAElFTkSuQmCC",alt:"send icon",height:"35px",width:"35px",style:{marginTop:"15%",marginLeft:"15%",cursor:"pointer"},onClick:this.handleSendMessage.bind(this)})})]})]})]})}}]),a}(s.a.Component),D=(a(744),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={activeSubChatId:1},n.getSubActiveChat=n.getActiveSubChat.bind(Object(b.a)(n)),n.getSubChatsList=n.getSubChatsList.bind(Object(b.a)(n)),n.switchSubChat=n.switchSubChat.bind(Object(b.a)(n)),n}return Object(h.a)(a,[{key:"getActiveSubChat",value:function(){var e=this;return this.props.activeChat.subChat.filter((function(t){return t.id===e.state.activeSubChatId}))[0]}},{key:"getSubChatsList",value:function(){return this.props.activeChat.subChat.map((function(e){return{id:e.id,name:e.name,data:e.data}}))}},{key:"switchSubChat",value:function(e){this.setState({activeSubChatId:e})}},{key:"render",value:function(){var e=this.props;e.activeChat,e.switchChat,e.totalChats;return Object(m.jsx)("div",{className:"chat",children:Object(m.jsxs)("div",{className:"chat__content",children:[Object(m.jsx)("div",{children:Object(m.jsx)(A,{subChatsList:this.getSubChatsList(),subActiveChatId:this.getSubActiveChat(),switchSubChat:this.switchSubChat,activeSubChatId:this.state.activeSubChatId})}),Object(m.jsx)("div",{children:Object(m.jsx)(I,{activeSubChat:this.getSubActiveChat()})})]})})}}]),a}(s.a.Component)),B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.activeChat,a=e.chatsList,n=e.activeChatId,s=e.switchChat,i=e.totalChats,c=e.toggleTheme;return Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)(x,{chatsList:a,activeChatId:n,switchChat:s,toggleTheme:c}),Object(m.jsx)(D,{activeChat:t,switchChat:s,totalChats:i})]})}}]),a}(s.a.Component),M=a(10),_=a.n(M),G=a(32),P=a(67),K=a.n(P);var z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={theme:"light",activeChatId:1,messagesData:[]},n.getActiveChat=n.getActiveChat.bind(Object(b.a)(n)),n.getChatsList=n.getChatsList.bind(Object(b.a)(n)),n.switchChat=n.switchChat.bind(Object(b.a)(n)),n}return Object(h.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.GetUserMessages()}},{key:"componentDidUpdate",value:function(e){if(this.props.messages!==e.messages){var t=[],a=0;this.props.messages.map((function(e){a+=1,t.push({id:a,name:void 0===e[0]?"Anyonmous":e[0].receivername,data:e})}));var n=[{id:1,title:"chat",icon:"chat",subChat:t}];this.setState({messagesData:n})}}},{key:"getActiveChat",value:function(){var e=this;return this.state.messagesData.filter((function(t){return t.id===e.state.activeChatId}))[0]}},{key:"getChatsList",value:function(){return this.state.messagesData.map((function(e){return{id:e.id,title:e.title,icon:e.icon,subChat:e.subChat}}))}},{key:"switchChat",value:function(e){this.setState({activeChatId:e})}},{key:"render",value:function(){var e=this.state.activeChatId;return Object(m.jsx)("div",{className:"app",children:void 0!==this.state.messagesData&&0!==this.state.messagesData.length?Object(m.jsx)(B,{activeChat:this.getActiveChat(),chatsList:this.getChatsList(),activeChatId:e,switchChat:this.switchChat,totalChats:this.state.messagesData.length}):""})}}]),a}(s.a.Component);var X=Object(r.b)((function(e){return{messages:e.messageReducer.messages,error:e.messageReducer.error}}),{GetUserMessages:function(){return function(){var e=Object(G.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),n={"Content-Type":"application/json",token:a},t({type:"PAGE_LOADER",PageLoader:!0}),e.next=5,K.a.get("https://chat-app-mujohn.herokuapp.com/api/messages",{headers:n}).then(function(){var e=Object(G.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_USER_MESSAGES_SUCCESS",payload:a.data.messageDatas});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(G.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"error.response.data.error",t({type:"GET_USER_MESSAGES_ERROR",payload:"error.response.data.error"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(z);a(291);function F(e){return{type:"CREATE_USER_ERROR",payload:e}}var Y=a(68),V=Object(Y.a)({forceRefresh:!0}),H=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userName:"",email:"",password:""},n}return Object(h.a)(a,[{key:"handleGoToLogin",value:function(){V.push("/login"),V.go()}},{key:"handleSubmit",value:function(){var e=this.state,t=e.userName,a=e.email,n=e.password;(0,this.props.createUser)(t,a,n)}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"componentDidUpdate",value:function(e){this.props.sucessMessage!==e.sucessMessage&&(V.push("/chat"),V.go())}},{key:"render",value:function(){return Object(m.jsxs)("div",{class:"login-box",children:[Object(m.jsx)("h2",{children:"Create account "}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{class:"user-box",children:[Object(m.jsx)("input",{type:"text",name:"userName",required:!0,onChange:this.handleChange.bind(this)}),Object(m.jsx)("label",{children:"Username"})]}),Object(m.jsxs)("div",{class:"user-box",children:[Object(m.jsx)("input",{type:"text",name:"email",required:!0,onChange:this.handleChange.bind(this)}),Object(m.jsx)("label",{children:"Email"})]}),Object(m.jsxs)("div",{class:"user-box",children:[Object(m.jsx)("input",{type:"password",name:"password",required:!0,onChange:this.handleChange.bind(this)}),Object(m.jsx)("label",{children:"Password"})]}),Object(m.jsxs)("div",{className:"question-box",children:[Object(m.jsx)("div",{children:"Already have account ?"}),Object(m.jsx)("div",{className:"question-link",onClick:this.handleGoToLogin.bind(this),children:"Login here"})]}),this.props.error&&this.props.error?Object(m.jsx)("div",{style:{marginTop:"5%",color:"red"},children:this.props.error}):"",Object(m.jsxs)("a",{onClick:this.handleSubmit.bind(this),style:{cursor:"pointer"},children:[Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),"Create"]})]})]})}}]),a}(n.Component);var J=Object(r.b)((function(e){return{sucessMessage:e.signupReducer.successMessage,error:e.signupReducer.error}}),{createUser:function(e,t,a){return function(){var n=Object(G.a)(_.a.mark((function n(s){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:"PAGE_LOADER",PageLoader:!0}),n.next=3,K.a.post("https://chat-app-mujohn.herokuapp.com/api/auth/signup",{userName:e,email:t,password:a}).then(function(){var e=Object(G.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.data.token,localStorage.setItem("token",a),s({type:"CREATE_USER_SUCCESS",payload:t.data.message});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(G.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.response.data.error,s(F(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(H);function q(e){return{type:"LOGIN_USER_ERROR",payload:e}}var W=Object(Y.a)({forceRefresh:!0}),Z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:"",password:""},n}return Object(h.a)(a,[{key:"handleGoToSignup",value:function(){W.push("/signup"),W.go()}},{key:"handleSubmit",value:function(){var e=this.state,t=e.email,a=e.password;(0,this.props.loginUser)(t,a)}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"componentDidUpdate",value:function(e){this.props.sucessMessage!==e.sucessMessage&&(W.push("/chat"),W.go())}},{key:"render",value:function(){return Object(m.jsxs)("div",{class:"login-box",children:[Object(m.jsx)("h2",{children:"Login to chat "}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{class:"user-box",children:[Object(m.jsx)("input",{type:"text",name:"email",required:"",onChange:this.handleChange.bind(this)}),Object(m.jsx)("label",{children:"Email"})]}),Object(m.jsxs)("div",{class:"user-box",children:[Object(m.jsx)("input",{type:"password",name:"password",required:"",onChange:this.handleChange.bind(this)}),Object(m.jsx)("label",{children:"Password"})]}),Object(m.jsxs)("div",{className:"question-box",children:[Object(m.jsx)("div",{children:"Don't have account ?"}),Object(m.jsx)("div",{className:"question-link",onClick:this.handleGoToSignup.bind(this),children:"Signup here"})]}),this.props.error&&this.props.error?Object(m.jsx)("div",{style:{marginTop:"5%",color:"red"},children:this.props.error}):"",Object(m.jsxs)("a",{onClick:this.handleSubmit.bind(this),style:{cursor:"pointer"},children:[Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),Object(m.jsx)("span",{}),"Login"]})]})]})}}]),a}(n.Component);var Q=Object(r.b)((function(e){return{sucessMessage:e.loginReducer.successMessage,error:e.loginReducer.error}}),{loginUser:function(e,t){return function(){var a=Object(G.a)(_.a.mark((function a(n){return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"PAGE_LOADER",PageLoader:!0}),a.next=3,K.a.post("https://chat-app-mujohn.herokuapp.com/api/auth/login",{email:e,password:t}).then(function(){var e=Object(G.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.data.token,localStorage.setItem("token",a),n({type:"LOGIN_USER_SUCCESS",payload:t.data.message});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(G.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.response.data.error,n(q(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(Z),$=a(12),ee=a(301);R.a.config();var te,ae=function(e){var t=Object(E.decode)(e);return!!t&&!((new Date).getTime()>=1e3*t.exp)},ne=a(297),se=a.n(ne),ie=function(e){var t=e.component,a=Object(ee.a)(e,["component"]),n=Object(Y.a)({forceRefresh:!0});return Object(m.jsx)(l.a,{children:Object(m.jsx)(j.a,Object($.a)(Object($.a)({},a),{},{render:function(e){return ae(function(){var e=se.a.parse(window.location.search),t=JSON.parse(e.info||"{}");return t.token&&localStorage.setItem("token",t.token),localStorage.getItem("token")}())?Object(m.jsx)(t,Object($.a)({},e)):(n.push("/"),n.go())}}))})},ce=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"app",children:Object(m.jsx)(l.a,{children:Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{exact:!0,path:"/",component:J}),Object(m.jsx)(j.a,{exact:!0,path:"/login",component:Q}),Object(m.jsx)(j.a,{exact:!0,path:"/signup",component:J}),Object(m.jsx)(ie,{path:"/chat",component:X})]})})})}}]),a}(n.Component),re=a(49),oe=a(298),he={},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_MESSAGES_SUCCESS":return Object($.a)(Object($.a)({},e),{},{messages:t.payload});case"GET_USER_MESSAGES_ERROR":return Object($.a)(Object($.a)({},e),{},{error:t.payload});default:return e}},de=localStorage.getItem("user"),le=de?{user:de}:{},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_USER_SUCCESS":return Object($.a)(Object($.a)({},e),{},{successMessage:t.payload});case"CREATE_USER_ERROR":return Object($.a)(Object($.a)({},e),{},{error:t.payload});default:return e}},be={},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER_SUCCESS":return Object($.a)(Object($.a)({},e),{},{successMessage:t.payload});case"LOGIN_USER_ERROR":return Object($.a)(Object($.a)({},e),{},{error:t.payload});default:return e}},me=Object(re.c)({messageReducer:ue,signupReducer:je,loginReducer:pe}),ge=[oe.a];te=re.d;var ve=Object(re.e)(me,{},te(re.a.apply(void 0,ge)));a(764),a(765);c.a.render(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(r.a,{store:ve,children:Object(m.jsx)(ce,{})})," "]}),document.getElementById("root"))}},[[766,1,2]]]);
//# sourceMappingURL=main.314e9bcf.chunk.js.map